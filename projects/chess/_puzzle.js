
/*c.bureaucrat = { //can move anywhere
	name: "bureaucrat",
	letter: ".",
	worth: 0,
	moves: [
		{type: "peaceful", motion: [-7, -7], limit: 1},{type: "peaceful", motion: [-7, -6], limit: 1},{type: "peaceful", motion: [-7, -5], limit: 1},{type: "peaceful", motion: [-7, -4], limit: 1},{type: "peaceful", motion: [-7, -3], limit: 1},{type: "peaceful", motion: [-7, -2], limit: 1},{type: "peaceful", motion: [-7, -1], limit: 1},{type: "peaceful", motion: [-7, 0], limit: 1},{type: "peaceful", motion: [-7, 1], limit: 1},{type: "peaceful", motion: [-7, 2], limit: 1},{type: "peaceful", motion: [-7, 3], limit: 1},{type: "peaceful", motion: [-7, 4], limit: 1},{type: "peaceful", motion: [-7, 5], limit: 1},{type: "peaceful", motion: [-7, 6], limit: 1},{type: "peaceful", motion: [-7, 7], limit: 1},{type: "peaceful", motion: [-6, -7], limit: 1},{type: "peaceful", motion: [-6, -6], limit: 1},{type: "peaceful", motion: [-6, -5], limit: 1},{type: "peaceful", motion: [-6, -4], limit: 1},{type: "peaceful", motion: [-6, -3], limit: 1},{type: "peaceful", motion: [-6, -2], limit: 1},{type: "peaceful", motion: [-6, -1], limit: 1},{type: "peaceful", motion: [-6, 0], limit: 1},{type: "peaceful", motion: [-6, 1], limit: 1},{type: "peaceful", motion: [-6, 2], limit: 1},{type: "peaceful", motion: [-6, 3], limit: 1},{type: "peaceful", motion: [-6, 4], limit: 1},{type: "peaceful", motion: [-6, 5], limit: 1},{type: "peaceful", motion: [-6, 6], limit: 1},{type: "peaceful", motion: [-6, 7], limit: 1},{type: "peaceful", motion: [-5, -7], limit: 1},{type: "peaceful", motion: [-5, -6], limit: 1},{type: "peaceful", motion: [-5, -5], limit: 1},{type: "peaceful", motion: [-5, -4], limit: 1},{type: "peaceful", motion: [-5, -3], limit: 1},{type: "peaceful", motion: [-5, -2], limit: 1},{type: "peaceful", motion: [-5, -1], limit: 1},{type: "peaceful", motion: [-5, 0], limit: 1},{type: "peaceful", motion: [-5, 1], limit: 1},{type: "peaceful", motion: [-5, 2], limit: 1},{type: "peaceful", motion: [-5, 3], limit: 1},{type: "peaceful", motion: [-5, 4], limit: 1},{type: "peaceful", motion: [-5, 5], limit: 1},{type: "peaceful", motion: [-5, 6], limit: 1},{type: "peaceful", motion: [-5, 7], limit: 1},{type: "peaceful", motion: [-4, -7], limit: 1},{type: "peaceful", motion: [-4, -6], limit: 1},{type: "peaceful", motion: [-4, -5], limit: 1},{type: "peaceful", motion: [-4, -4], limit: 1},{type: "peaceful", motion: [-4, -3], limit: 1},{type: "peaceful", motion: [-4, -2], limit: 1},{type: "peaceful", motion: [-4, -1], limit: 1},{type: "peaceful", motion: [-4, 0], limit: 1},{type: "peaceful", motion: [-4, 1], limit: 1},{type: "peaceful", motion: [-4, 2], limit: 1},{type: "peaceful", motion: [-4, 3], limit: 1},{type: "peaceful", motion: [-4, 4], limit: 1},{type: "peaceful", motion: [-4, 5], limit: 1},{type: "peaceful", motion: [-4, 6], limit: 1},{type: "peaceful", motion: [-4, 7], limit: 1},{type: "peaceful", motion: [-3, -7], limit: 1},{type: "peaceful", motion: [-3, -6], limit: 1},{type: "peaceful", motion: [-3, -5], limit: 1},{type: "peaceful", motion: [-3, -4], limit: 1},{type: "peaceful", motion: [-3, -3], limit: 1},{type: "peaceful", motion: [-3, -2], limit: 1},{type: "peaceful", motion: [-3, -1], limit: 1},{type: "peaceful", motion: [-3, 0], limit: 1},{type: "peaceful", motion: [-3, 1], limit: 1},{type: "peaceful", motion: [-3, 2], limit: 1},{type: "peaceful", motion: [-3, 3], limit: 1},{type: "peaceful", motion: [-3, 4], limit: 1},{type: "peaceful", motion: [-3, 5], limit: 1},{type: "peaceful", motion: [-3, 6], limit: 1},{type: "peaceful", motion: [-3, 7], limit: 1},{type: "peaceful", motion: [-2, -7], limit: 1},{type: "peaceful", motion: [-2, -6], limit: 1},{type: "peaceful", motion: [-2, -5], limit: 1},{type: "peaceful", motion: [-2, -4], limit: 1},{type: "peaceful", motion: [-2, -3], limit: 1},{type: "peaceful", motion: [-2, -2], limit: 1},{type: "peaceful", motion: [-2, -1], limit: 1},{type: "peaceful", motion: [-2, 0], limit: 1},{type: "peaceful", motion: [-2, 1], limit: 1},{type: "peaceful", motion: [-2, 2], limit: 1},{type: "peaceful", motion: [-2, 3], limit: 1},{type: "peaceful", motion: [-2, 4], limit: 1},{type: "peaceful", motion: [-2, 5], limit: 1},{type: "peaceful", motion: [-2, 6], limit: 1},{type: "peaceful", motion: [-2, 7], limit: 1},{type: "peaceful", motion: [-1, -7], limit: 1},{type: "peaceful", motion: [-1, -6], limit: 1},{type: "peaceful", motion: [-1, -5], limit: 1},{type: "peaceful", motion: [-1, -4], limit: 1},{type: "peaceful", motion: [-1, -3], limit: 1},{type: "peaceful", motion: [-1, -2], limit: 1},{type: "peaceful", motion: [-1, -1], limit: 1},{type: "peaceful", motion: [-1, 0], limit: 1},{type: "peaceful", motion: [-1, 1], limit: 1},{type: "peaceful", motion: [-1, 2], limit: 1},{type: "peaceful", motion: [-1, 3], limit: 1},{type: "peaceful", motion: [-1, 4], limit: 1},{type: "peaceful", motion: [-1, 5], limit: 1},{type: "peaceful", motion: [-1, 6], limit: 1},{type: "peaceful", motion: [-1, 7], limit: 1},{type: "peaceful", motion: [0, -7], limit: 1},{type: "peaceful", motion: [0, -6], limit: 1},{type: "peaceful", motion: [0, -5], limit: 1},{type: "peaceful", motion: [0, -4], limit: 1},{type: "peaceful", motion: [0, -3], limit: 1},{type: "peaceful", motion: [0, -2], limit: 1},{type: "peaceful", motion: [0, -1], limit: 1},{type: "peaceful", motion: [0, 1], limit: 1},{type: "peaceful", motion: [0, 2], limit: 1},{type: "peaceful", motion: [0, 3], limit: 1},{type: "peaceful", motion: [0, 4], limit: 1},{type: "peaceful", motion: [0, 5], limit: 1},{type: "peaceful", motion: [0, 6], limit: 1},{type: "peaceful", motion: [0, 7], limit: 1},{type: "peaceful", motion: [1, -7], limit: 1},{type: "peaceful", motion: [1, -6], limit: 1},{type: "peaceful", motion: [1, -5], limit: 1},{type: "peaceful", motion: [1, -4], limit: 1},{type: "peaceful", motion: [1, -3], limit: 1},{type: "peaceful", motion: [1, -2], limit: 1},{type: "peaceful", motion: [1, -1], limit: 1},{type: "peaceful", motion: [1, 0], limit: 1},{type: "peaceful", motion: [1, 1], limit: 1},{type: "peaceful", motion: [1, 2], limit: 1},{type: "peaceful", motion: [1, 3], limit: 1},{type: "peaceful", motion: [1, 4], limit: 1},{type: "peaceful", motion: [1, 5], limit: 1},{type: "peaceful", motion: [1, 6], limit: 1},{type: "peaceful", motion: [1, 7], limit: 1},{type: "peaceful", motion: [2, -7], limit: 1},{type: "peaceful", motion: [2, -6], limit: 1},{type: "peaceful", motion: [2, -5], limit: 1},{type: "peaceful", motion: [2, -4], limit: 1},{type: "peaceful", motion: [2, -3], limit: 1},{type: "peaceful", motion: [2, -2], limit: 1},{type: "peaceful", motion: [2, -1], limit: 1},{type: "peaceful", motion: [2, 0], limit: 1},{type: "peaceful", motion: [2, 1], limit: 1},{type: "peaceful", motion: [2, 2], limit: 1},{type: "peaceful", motion: [2, 3], limit: 1},{type: "peaceful", motion: [2, 4], limit: 1},{type: "peaceful", motion: [2, 5], limit: 1},{type: "peaceful", motion: [2, 6], limit: 1},{type: "peaceful", motion: [2, 7], limit: 1},{type: "peaceful", motion: [3, -7], limit: 1},{type: "peaceful", motion: [3, -6], limit: 1},{type: "peaceful", motion: [3, -5], limit: 1},{type: "peaceful", motion: [3, -4], limit: 1},{type: "peaceful", motion: [3, -3], limit: 1},{type: "peaceful", motion: [3, -2], limit: 1},{type: "peaceful", motion: [3, -1], limit: 1},{type: "peaceful", motion: [3, 0], limit: 1},{type: "peaceful", motion: [3, 1], limit: 1},{type: "peaceful", motion: [3, 2], limit: 1},{type: "peaceful", motion: [3, 3], limit: 1},{type: "peaceful", motion: [3, 4], limit: 1},{type: "peaceful", motion: [3, 5], limit: 1},{type: "peaceful", motion: [3, 6], limit: 1},{type: "peaceful", motion: [3, 7], limit: 1},{type: "peaceful", motion: [4, -7], limit: 1},{type: "peaceful", motion: [4, -6], limit: 1},{type: "peaceful", motion: [4, -5], limit: 1},{type: "peaceful", motion: [4, -4], limit: 1},{type: "peaceful", motion: [4, -3], limit: 1},{type: "peaceful", motion: [4, -2], limit: 1},{type: "peaceful", motion: [4, -1], limit: 1},{type: "peaceful", motion: [4, 0], limit: 1},{type: "peaceful", motion: [4, 1], limit: 1},{type: "peaceful", motion: [4, 2], limit: 1},{type: "peaceful", motion: [4, 3], limit: 1},{type: "peaceful", motion: [4, 4], limit: 1},{type: "peaceful", motion: [4, 5], limit: 1},{type: "peaceful", motion: [4, 6], limit: 1},{type: "peaceful", motion: [4, 7], limit: 1},{type: "peaceful", motion: [5, -7], limit: 1},{type: "peaceful", motion: [5, -6], limit: 1},{type: "peaceful", motion: [5, -5], limit: 1},{type: "peaceful", motion: [5, -4], limit: 1},{type: "peaceful", motion: [5, -3], limit: 1},{type: "peaceful", motion: [5, -2], limit: 1},{type: "peaceful", motion: [5, -1], limit: 1},{type: "peaceful", motion: [5, 0], limit: 1},{type: "peaceful", motion: [5, 1], limit: 1},{type: "peaceful", motion: [5, 2], limit: 1},{type: "peaceful", motion: [5, 3], limit: 1},{type: "peaceful", motion: [5, 4], limit: 1},{type: "peaceful", motion: [5, 5], limit: 1},{type: "peaceful", motion: [5, 6], limit: 1},{type: "peaceful", motion: [5, 7], limit: 1},{type: "peaceful", motion: [6, -7], limit: 1},{type: "peaceful", motion: [6, -6], limit: 1},{type: "peaceful", motion: [6, -5], limit: 1},{type: "peaceful", motion: [6, -4], limit: 1},{type: "peaceful", motion: [6, -3], limit: 1},{type: "peaceful", motion: [6, -2], limit: 1},{type: "peaceful", motion: [6, -1], limit: 1},{type: "peaceful", motion: [6, 0], limit: 1},{type: "peaceful", motion: [6, 1], limit: 1},{type: "peaceful", motion: [6, 2], limit: 1},{type: "peaceful", motion: [6, 3], limit: 1},{type: "peaceful", motion: [6, 4], limit: 1},{type: "peaceful", motion: [6, 5], limit: 1},{type: "peaceful", motion: [6, 6], limit: 1},{type: "peaceful", motion: [6, 7], limit: 1},{type: "peaceful", motion: [7, -7], limit: 1},{type: "peaceful", motion: [7, -6], limit: 1},{type: "peaceful", motion: [7, -5], limit: 1},{type: "peaceful", motion: [7, -4], limit: 1},{type: "peaceful", motion: [7, -3], limit: 1},{type: "peaceful", motion: [7, -2], limit: 1},{type: "peaceful", motion: [7, -1], limit: 1},{type: "peaceful", motion: [7, 0], limit: 1},{type: "peaceful", motion: [7, 1], limit: 1},{type: "peaceful", motion: [7, 2], limit: 1},{type: "peaceful", motion: [7, 3], limit: 1},{type: "peaceful", motion: [7, 4], limit: 1},{type: "peaceful", motion: [7, 5], limit: 1},{type: "peaceful", motion: [7, 6], limit: 1},{type: "peaceful", motion: [7, 7], limit: 1}
	]
};
c.laser = { //laser straight ahead
	name: "laser",
	letter: "x",
	worth: 900,
	moves: [
		{type: "ranged", motion: [0, 1]},
		{type: "peaceful", motion: [-1, 0], limit: 1},
		{type: "peaceful", motion: [1, 0], limit: 1}
	]
};
c.wizard = { //converts neighbor pieces
	name: "wizard",
	letter: "x",
	worth: 900,
	moves: [
		{type: "convert", motion: [1, 0], limit: 1},
		{type: "convert", motion: [-1, 0], limit: 1},
		{type: "peaceful", motion: [0, 1], limit: 1},
		{type: "peaceful", motion: [0, -1], limit: 1},
		{type: "peaceful", motion: [-1, 0], limit: 1},
		{type: "peaceful", motion: [1, 0], limit: 1},
		{type: "peaceful", motion: [-1, 1], limit: 1},
		{type: "peaceful", motion: [-1, -1], limit: 1},
		{type: "peaceful", motion: [1, -1], limit: 1},
		{type: "peaceful", motion: [1, 1], limit: 1}
	]
};*/

function make_crossword() {
	board = [
		[black_rook, black_knig, black_bish, black_quee, black_king, black_bish, black_knig, black_rook],
		[black_pawn, black_pawn, black_pawn, black_pawn, black_pawn, black_pawn, black_pawn, black_pawn],
		[empty_cell, empty_cell, empty_cell, empty_cell, empty_cell, empty_cell, empty_cell, empty_cell],
		[empty_cell, empty_cell, empty_cell, empty_cell, empty_cell, empty_cell, empty_cell, empty_cell],
		[empty_cell, empty_cell, empty_cell, empty_cell, empty_cell, empty_cell, empty_cell, empty_cell],
		[empty_cell, empty_cell, empty_cell, empty_cell, empty_cell, empty_cell, empty_cell, empty_cell],
		[white_pawn, white_pawn, white_pawn, white_pawn, white_pawn, white_pawn, white_pawn, white_pawn],
		[white_rook, white_knig, white_bish, white_quee, white_king, white_bish, white_knig, white_rook],
	];

	//redefine special pawns that sit before the void
	c.pawn.moves = [
		//you can kill diagonal
		{type: "capture", motion: [1, 1], limit: 1},
		{type: "capture", motion: [-1, 1], limit: 1},
		//you can go diagonal if no other option
		{type: "peaceful", motion: [1, 1], limit: 1, condition: {by_void: [0, 1]}},
		{type: "peaceful", motion: [-1, 1], limit: 1, condition: {by_void: [0, 1]}},
		//go forward
		{type: "peaceful", motion: [0, 1], limit: 1, condition: {min_uses: 1}},
		{type: "peaceful", motion: [0, 1], limit: 2, condition: {max_uses: 0}}
	];
	white_pawn.type = c.pawn;
	black_pawn.type = c.pawn;

	let done_columns = [];
	for (let it = 0; it < 3; it++) {
		let r = Math.floor(Math.random()*2);
		let c = Math.floor(Math.random()*8);
		if (board[2+r][c] == oob_cell || done_columns.includes(c)) {it--; continue;}
		done_columns.push(c);
		board[2+r][c] = oob_cell;
		board[5-r][7-c] = oob_cell;
	}
}

do make_crossword(); while (board[2].join("").includes("000") || board[3].join("").includes("000"));

start_game();